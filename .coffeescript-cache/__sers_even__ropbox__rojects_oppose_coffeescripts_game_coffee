{"mtime":1396457466,"js":"(function() {\n  var $body, $btnNo, $btnPlay, $btnYes, $comment, $gameover, $showContent, $showpoint, $timestamp, game,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  $.fn._bigtext = function() {\n    return this.each(function() {\n      var $el;\n\n      $el = $(this);\n      return $el.bigtext($el.data());\n    });\n  };\n\n  $body = $('body');\n\n  $btnPlay = $('.play');\n\n  $btnYes = $('.btn-yes');\n\n  $btnNo = $('.btn-no');\n\n  $timestamp = $('.timestamp');\n\n  $showpoint = $('.showpoint');\n\n  $comment = $('.comment');\n\n  $showContent = $('.show-content');\n\n  $gameover = $('.gameover');\n\n  game = (function() {\n    function game() {\n      this.no = __bind(this.no, this);\n      this.yes = __bind(this.yes, this);\n      this.play = __bind(this.play, this);\n      this.keydown = __bind(this.keydown, this);      $('.bigtext')._bigtext();\n      this.observe();\n      this.reset();\n    }\n\n    game.prototype.reset = function() {\n      this.time = 30;\n      this.point = 0;\n      this.is_playing = false;\n      return this.showTime(this.time);\n    };\n\n    game.prototype.observe = function() {\n      $(document).on('keydown', this.keydown);\n      $btnPlay.on('click', this.play);\n      $btnYes.on('click', this.yes);\n      return $btnNo.on('click', this.no);\n    };\n\n    game.prototype.keydown = function(e) {\n      var key;\n\n      key = e.which;\n      switch (key) {\n        case 37:\n          return this.no();\n        case 39:\n          return this.yes();\n        case 13:\n          return this.play();\n      }\n    };\n\n    game.prototype.play = function() {\n      if (this.is_playing) {\n        return;\n      }\n      this.is_playing = true;\n      this.toggleBodyClass('play');\n      this.getQuiz();\n      this.countdown();\n      return $gameover.addClass('showGameOver');\n    };\n\n    game.prototype.yes = function() {\n      if (!this.is_playing) {\n        return;\n      }\n      if (this.is_anti) {\n        return this.end();\n      } else {\n        return this.bingo();\n      }\n    };\n\n    game.prototype.no = function() {\n      if (!this.is_playing) {\n        return;\n      }\n      if (this.is_anti) {\n        return this.bingo();\n      } else {\n        return this.end();\n      }\n    };\n\n    game.prototype.countdown = function() {\n      var _this = this;\n\n      if (!this.is_playing) {\n        return;\n      }\n      if (this.time === 0) {\n        return this.end();\n      }\n      this.showTime(this.time);\n      this.time--;\n      return setTimeout(function() {\n        return _this.countdown();\n      }, 1000);\n    };\n\n    game.prototype.bingo = function() {\n      this.point++;\n      return this.getQuiz();\n    };\n\n    game.prototype.end = function() {\n      this.toggleBodyClass('end');\n      this.getComment();\n      this.showPoint();\n      this.reset();\n      return setTimeout(function() {\n        return $gameover.removeClass('showGameOver');\n      }, 1000);\n    };\n\n    game.prototype.getQuiz = function() {\n      var i, numbers, quizStr, _i;\n\n      $showContent.removeClass('in');\n      numbers = this.point < 9 ? this.random(4) : this.random(13);\n      quizStr = '';\n      for (i = _i = 0; _i <= numbers; i = _i += 1) {\n        quizStr += '反';\n      }\n      this.is_anti = numbers % 2 === 0 ? true : false;\n      $showContent.html(\"\" + quizStr + \"服貿\").parent()._bigtext();\n      return setTimeout(function() {\n        return $showContent.addClass('in');\n      }, 300);\n    };\n\n    game.prototype.getComment = function() {\n      var comment;\n\n      comment = '點評：';\n      if (this.point < 1) {\n        comment += '智商跟馬英九相同。';\n      } else if (this.point < 6) {\n        comment += '你的偷懶害立法院失守了';\n      } else if (this.point < 7) {\n        comment += '你的偷懶害立法院失守了';\n      } else if (this.point < 8) {\n        comment += '白衫軍攻勢太強！<br>再玩一次！';\n      } else if (this.point < 9) {\n        comment += '請注意務必逐題審查！';\n      } else if (this.point < 10) {\n        comment += '快出門！<br>立法院需要你的支援！';\n      } else if (this.point < 11) {\n        comment += 'Over My Dead Body';\n      } else if (this.point < 12) {\n        comment += '涂明義救援中！';\n      } else if (this.point < 13) {\n        comment += '公聽會有辦等於沒辦！';\n      } else if (this.point < 14) {\n        comment += '臉書被檢舉照片太醜<br>王炳忠：言語霸凌!';\n      } else if (this.point < 15) {\n        comment += '「你們不配當中國人」語畢，哄堂大笑';\n      } else if (this.point < 16) {\n        comment += '馬總統民調只有九趴，<br>你們是不是也是多數在霸凌少數';\n      } else if (this.point < 17) {\n        comment += '先立法後答題';\n      } else if (this.point < 18) {\n        comment += '辨識度堪稱糾察隊';\n      } else if (this.point < 19) {\n        comment += '辨識度堪稱糾察隊';\n      } else if (this.point < 20) {\n        comment += '辨識度堪稱糾察隊';\n      } else if (this.point < 21) {\n        comment += '林飛帆表示：陳為廷在我旁邊啦！';\n      } else if (this.point < 25) {\n        comment += '你的分辨率太高，TVBS、中天都做不了假新聞...';\n      } else {\n        comment += '你證明了 Z < B';\n      }\n      return this.showComment(comment);\n    };\n\n    game.prototype.showPoint = function() {\n      return $showpoint.text(this.point).parent()._bigtext();\n    };\n\n    game.prototype.showComment = function(comment) {\n      return $comment.text(comment);\n    };\n\n    game.prototype.showTime = function(time) {\n      return $timestamp.text(time);\n    };\n\n    game.prototype.random = function(max) {\n      return Math.ceil(Math.random() * max);\n    };\n\n    game.prototype.toggleBodyClass = function(status) {\n      switch (status) {\n        case 'play':\n          return $body.removeClass('status-intro status-end').addClass('status-playing');\n        case 'end':\n          return $body.removeClass('status-playing').addClass('status-end');\n      }\n    };\n\n    return game;\n\n  })();\n\n  new game();\n\n}).call(this);\n"}